!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="23f96892-dc62-4646-94f8-983652e8e9b8",e._sentryDebugIdIdentifier="sentry-dbid-23f96892-dc62-4646-94f8-983652e8e9b8")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8092],{67629:function(e,t,i){i.d(t,{w:function(){return r}});var o=i(85893);let r=e=>{let{stroke:t="#27AE60"}=e;return(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M6.55469 11.0005L9.88802 14.3339L15.4436 8.77832",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M1 11C1 9.68678 1.25866 8.38642 1.7612 7.17317C2.26375 5.95991 3.00035 4.85752 3.92893 3.92893C4.85752 3.00035 5.95991 2.26375 7.17317 1.7612C8.38642 1.25866 9.68678 1 11 1C12.3132 1 13.6136 1.25866 14.8268 1.7612C16.0401 2.26375 17.1425 3.00035 18.0711 3.92893C18.9997 4.85752 19.7363 5.95991 20.2388 7.17317C20.7413 8.38642 21 9.68678 21 11C21 13.6522 19.9464 16.1957 18.0711 18.0711C16.1957 19.9464 13.6522 21 11 21C8.34784 21 5.8043 19.9464 3.92893 18.0711C2.05357 16.1957 1 13.6522 1 11V11Z",stroke:t,strokeWidth:"2",strokeLinecap:"round"})]})}},58092:function(e,t,i){i.d(t,{m:function(){return n}});var o=i(85893),r=i(25617),a=i(32536),s=i(294);let n=e=>{let{children:t}=e;return(0,o.jsxs)(r.zt,{store:a.h,children:[t,(0,o.jsx)(s.r,{})]})}},294:function(e,t,i){i.d(t,{w:function(){return g},r:function(){return p}});var o=i(85893),r=i(82656),a=i(73935),s=i(67629);let n=e=>{let{toast:t}=e;return(0,o.jsxs)("div",{className:"font-semibold py-2 px-4 flex items-center gap-4 ".concat("success"===t.status?"bg-success":"error"===t.status?"bg-error":"information"===t.status?"bg-information":(t.status,"bg-warning")," text-white text-xl rounded-md my-1 animate-scale-in"),children:["success"===t.status&&(0,o.jsx)("div",{className:"",children:(0,o.jsx)(s.w,{stroke:"white"})}),(0,o.jsx)("div",{className:"",id:"toast-text",children:t.text})]})};var l=i(32536);let d=e=>e.toasts;var m=i(57511);let g=7e3,p=()=>{let{mounted:e}=(0,r.s)(),t=document.getElementById(m.Se),{toasts:i}=(0,l.CG)(d);return t&&e?(0,a.createPortal)((0,o.jsxs)("div",{className:"fixed z-50",children:[(0,o.jsx)("div",{className:"fixed top-5 left-5 flex flex-col items-center",children:i.filter(e=>"top-left"===e.position).slice(0,3).map(e=>(0,o.jsx)(n,{toast:e},e.id))}),(0,o.jsx)("div",{className:"fixed top-5 left-0 right-0 flex flex-col items-center",children:i.filter(e=>"top-center"===e.position).slice(0,3).map(e=>(0,o.jsx)(n,{toast:e},e.id))}),(0,o.jsx)("div",{className:"fixed top-5 right-5 flex flex-col items-center",children:i.filter(e=>"top-right"===e.position).slice(0,3).map(e=>(0,o.jsx)(n,{toast:e},e.id))}),(0,o.jsx)("div",{className:"fixed bottom-5 right-5 flex flex-col items-center",children:i.filter(e=>"bottom-right"===e.position).slice(0,3).reverse().map(e=>(0,o.jsx)(n,{toast:e},e.id))}),(0,o.jsx)("div",{className:"fixed bottom-5 left-0 right-0 flex flex-col items-center",children:i.filter(e=>"bottom-center"===e.position).slice(0,3).reverse().map(e=>(0,o.jsx)(n,{toast:e},e.id))}),(0,o.jsx)("div",{className:"fixed bottom-5 left-5 flex flex-col items-center",children:i.filter(e=>"bottom-left"===e.position).slice(0,3).reverse().map(e=>(0,o.jsx)(n,{toast:e},e.id))})]}),t):null}},7727:function(e,t,i){i.d(t,{Z:function(){return a}});var o=i(9669);let r=i.n(o)().create({baseURL:"",headers:{Accept:"application/json"}});r.interceptors.request.use(async e=>e,e=>Promise.reject(e));var a=r},41480:function(e,t,i){i.d(t,{v:function(){return r}});var o=i(7727);let r=async(e,t,i)=>{let r=null,a=null;try{r=(await o.Z.post(e,t,{headers:{...null!=i?i:{}}})).data}catch(e){var s;a={message:e.message,code:e.code||"".concat(null===(s=e.response)||void 0===s?void 0:s.status)}}return{result:r,error:a}}},54727:function(e,t,i){i.d(t,{bulkResizeSlice:function(){return f}});var o=i(27272),r=i(41480);(0,o.hg)("bulkResize/createBulkResizeJob",async e=>{var t,i,o,a;let{importTaskIds:s,resize:n}=e,l={},d={max_file_size:n.options.maxFileSize,background_color:n.options.background,image_dpi:n.options.dpi,"auto-orient":!0,strip:!0};d="percentage"===n.resize_as?{...d,image_resize_percentage:n.percentage}:{...d,image_custom_width:null===(o=n.dimensions)||void 0===o?void 0:o.width,image_custom_height:null===(a=n.dimensions)||void 0===a?void 0:a.height},"png"===n.outputFormat&&(d={...d,png_convert_quality:100,png_compression_level:"lossy"}),"percentage"===n.resize_as?l.percentage=n.percentage:"dimensions"===n.resize_as&&(l.dimensions=n.dimensions),l={...l,operation:"convert",input:s,input_format:null===(t=n.inputFormat)||void 0===t?void 0:t.toLowerCase(),output_format:null===(i=n.outputFormat)||void 0===i?void 0:i.toLowerCase(),resize_as:n.resize_as,options:d};let m=await (0,r.v)("/api/jobs",{tag:"bulk-resize",tasks:{bulkResize:l}});if(m.error)throw{error:m.error};return m});let a=e=>{},s={exportSettings:{optimizationLevel:"custom",saveAs:"original",maxFileSize:0,fileUnit:"KB"},resizeSettings:{byDimension:{height:0,width:0,lastModified:"width"},byPercentage:{percentage:100},dpi:"300",unit:"pixels",dimensionType:"pixels",fillColor:{color:"#000000",shouldFillColor:!0,type:"color"},isLocked:!0},sort:null,images:[],immutableImages:[],lastModified:null,fromDownloadPage:!1};var n=i(67756),l=i(15970),d=i(75201),m=i(92874),g=i(99537);let p=(e,t,i)=>{if("percentage"===e.resizeSettings.dimensionType)return e.resizeSettings.byPercentage.percentage*t/100;if(e.resizeSettings.isLocked){if("height"===e.resizeSettings.byDimension.lastModified&&e.resizeSettings.byDimension.height>0)return t/i*e.resizeSettings.byDimension.height;if(e.resizeSettings.byDimension.width>0)return e.resizeSettings.byDimension.width}return t},c=(e,t,i)=>{if("percentage"===e.resizeSettings.dimensionType)return e.resizeSettings.byPercentage.percentage*i/100;if(e.resizeSettings.isLocked){if("width"===e.resizeSettings.byDimension.lastModified&&e.resizeSettings.byDimension.width>0)return i/t*e.resizeSettings.byDimension.width;if(e.resizeSettings.byDimension.height>0)return e.resizeSettings.byDimension.height}return i};var u=i(69391),h=i(75822);let f=(0,o.oM)({name:"bulkResize",initialState:s,reducers:{setColor:(e,t)=>{let{payload:i}=t;e.resizeSettings.fillColor.color=i},setDimensionType:(e,t)=>{let{payload:i}=t;e.resizeSettings.dimensionType=i},setDPI:(e,t)=>{let{payload:i}=t;e.resizeSettings.dpi=i},setHeight:(e,t)=>{let{payload:i}=t,o=i>0?i:0;e.resizeSettings.byDimension.height=o,e.resizeSettings.byDimension.lastModified="height",e.lastModified="height",e.resizeSettings.isLocked&&(e.resizeSettings.byDimension.width=0),e.images=e.images.map(t=>{let i=o>0?o:t.original.height,r=(0,l.D)(i/t.original.height*t.original.width);return{...t,preview:{...t.preview,height:i,width:e.resizeSettings.isLocked?"pixels"===e.resizeSettings.unit?Math.round(r):r:t.preview.width}}})},setIsLocked:(e,t)=>{let{payload:i}=t;e.resizeSettings.isLocked=i,"width"===e.resizeSettings.byDimension.lastModified?(e.resizeSettings.byDimension.height=0,e.images=e.images.map(t=>({...t,preview:{...t.preview,height:e.resizeSettings.isLocked?t.preview.width/t.original.width*t.original.height:t.preview.height}}))):(e.resizeSettings.byDimension.width=0,e.images=e.images.map(t=>({...t,preview:{...t.preview,width:e.resizeSettings.isLocked?t.preview.height/t.original.height*t.original.width:t.preview.width}})))},setPercentage:(e,t)=>{let{payload:i}=t;!i||i<0||i>d.$||(e.resizeSettings.byPercentage.percentage=i,e.lastModified="percentage",e.images=e.images.map(e=>{let t=Math.floor(e.original.width*i/100),o=Math.floor(e.original.height*i/100);return{...e,preview:{...e.preview,width:t,height:o}}}))},setShouldFillColor:(e,t)=>{let{payload:i}=t;e.resizeSettings.fillColor.shouldFillColor=i},setUnit:(e,t)=>{let{payload:i}=t,o=e.resizeSettings.unit;e.resizeSettings={...e.resizeSettings,unit:i,byDimension:{...e.resizeSettings.byDimension,width:(0,m.c)((0,g.m)(e.resizeSettings.byDimension.width,o,+e.resizeSettings.dpi),i,+e.resizeSettings.dpi),height:(0,m.c)((0,g.m)(e.resizeSettings.byDimension.height,o,+e.resizeSettings.dpi),i,+e.resizeSettings.dpi)}},e.images=e.images.map(t=>({...t,preview:{...t.preview,width:(0,m.c)((0,g.m)(t.preview.width,o,+e.resizeSettings.dpi),i,+e.resizeSettings.dpi),height:(0,m.c)((0,g.m)(t.preview.height,o,+e.resizeSettings.dpi),i,+e.resizeSettings.dpi)}}))},setWidth:(e,t)=>{let{payload:i}=t,o=i;(!o||o<0)&&(o=0),e.resizeSettings.byDimension.width=o,e.resizeSettings.byDimension.lastModified="width",e.lastModified="width",e.resizeSettings.isLocked&&(e.resizeSettings.byDimension.height=0),e.images=e.images.map(t=>{let i=o>0?o:t.original.width,r=(0,l.D)(i/t.original.width*t.original.height);return{...t,preview:{...t.preview,width:i,height:e.resizeSettings.isLocked?"pixels"===e.resizeSettings.unit?Math.round(r):r:t.preview.height}}})},setFillColorType:(e,t)=>{let{payload:i}=t;e.resizeSettings.fillColor.type=i},setSort:(e,t)=>{let{payload:i}=t;e.images=(0,n.w)(i,e.images).map(t=>{var i;return null!==(i=e.images.find(e=>t.id===e.id))&&void 0!==i?i:t}),e.sort=i},addImage:(e,t)=>{let{payload:i}=t;e.images.unshift(i),e.images=(0,n.w)(e.sort,e.images)},deleteImage:(e,t)=>{let{payload:i}=t;e.images=e.images.filter(e=>e.id!==i),e.immutableImages=e.immutableImages.filter(e=>e.id!==i)},deleteAllImages:e=>{e.images=[],e.immutableImages=[]},setImages:(e,t)=>{let{payload:i}=t;e.images=i,e.immutableImages=[...e.images],e.fromDownloadPage=!0},setDimension:(e,t)=>{let{payload:{imageId:i,width:o,height:r}}=t;e.images=[...e.images.map(t=>{if(t.id!==i)return t;let a=p(e,o,r),s=c(e,o,r);return{...t,original:{...t.original,width:o,height:r},preview:{...t.preview,width:a,height:s}}})]},setImageState:(e,t)=>{let{payload:{imageId:i,imageState:o}}=t;e.images=e.images.map(e=>e.id!==i?e:{...e,state:o})},setImporting:(e,t)=>{let{payload:{imageId:i,importing:o,importTask:r}}=t;e.images=e.images.map(e=>{var t;return e.id!==i?e:{...e,original:{...e.original,size:(null===(t=r.result)||void 0===t?void 0:t.size)?(0,u.t)(r.result.size):e.original.size.includes("NaN")?"0 KB":e.original.size},importing:o,importTask:r}})},setIsCorrupted:(e,t)=>{let{payload:{id:i,isCorrupted:o}}=t,r=e.images.find(e=>e.id===i);r&&(r.isCorrupted=o)},setFileUnit:(e,t)=>{let{payload:i}=t;e.exportSettings.fileUnit=i,0!==e.exportSettings.maxFileSize&&"MB"===i&&e.exportSettings.maxFileSize>h.W/1e3&&(e.exportSettings.maxFileSize=h.W/1e3)},setMaxFileSize:(e,t)=>{let{payload:i}=t;i>("KB"===e.exportSettings.fileUnit?h.W:Math.floor(h.W/1e3))||(e.exportSettings.maxFileSize=i)},setOptimizationLevel:(e,t)=>{let{payload:i}=t;e.exportSettings.optimizationLevel=i},setSaveAs:(e,t)=>{let{payload:i}=t;e.exportSettings.saveAs=i,".jpg"===i&&e.resizeSettings.fillColor.type},reset:e=>{e.exportSettings=s.exportSettings,e.images=s.images,e.immutableImages=s.immutableImages,e.lastModified=s.lastModified,e.resizeSettings=s.resizeSettings,e.sort=s.sort}},extraReducers:e=>{a(e)}})},91536:function(e,t,i){i.d(t,{E:function(){return o}});let o={source:"color",image:{createdAt:new Date,format:".jpg",original:{height:3800,width:2400,size:"10.89 MB"},preview:{height:3800,width:2400,size:"10.89 MB"},src:"/images/color-picker-default-image.webp",title:"3D Abstract Sample Image Title.JPG"},fromImage:{colors:[]},selectedColor:null,currentColor:null,isImageLoading:!0,upload:{type:"device",settings:{}}}},10096:function(e,t,i){i.d(t,{colorPickerSlice:function(){return a}});var o=i(27272),r=i(91536);let a=(0,o.oM)({name:"colorPicker",initialState:r.E,reducers:{setSource:(e,t)=>{let{payload:i}=t;e.source=i},setImage:(e,t)=>{let{payload:i}=t;e.image=i},setSelectedColor:(e,t)=>{let{payload:i}=t;e.selectedColor=i},setCurrentColor:(e,t)=>{let{payload:i}=t;e.currentColor=i},setIsImageLoading:(e,t)=>{let{payload:i}=t;e.isImageLoading=i},setUploadData:(e,t)=>{let{payload:i}=t;e.upload=i}},extraReducers:{}})},80448:function(e,t,i){i.d(t,{d:function(){return s},k:function(){return a}});var o=i(27272),r=i(41480);let a=(0,o.hg)("compress/createCompressJob",async(e,t)=>{let{image:i,importTask:o,settings:a,filename:s}=e,{rejectWithValue:n}=t,l={};"max_file_size"===a.type?l.max_file_size=a.maxFileSize.value:l.quality=a.quality.value;let d={input:o.id,input_format:i.format.toLowerCase(),output_format:i.format.toLowerCase(),options:l,filename:s},m=await (0,r.v)("/api/jobs/compress",d);return m.error?n(m):m}),s=e=>{e.addCase(a.fulfilled,(e,t)=>{let{payload:i,meta:{arg:{image:{id:o}}}}=t,r=e.images.find(e=>e.id===o);r&&i.result&&!i.error&&r.compressing&&(r.compressing={...r.compressing,job:i.result})}),e.addCase(a.pending,(e,t)=>{let{meta:{arg:{image:i}}}=t;e.images=e.images.map(e=>e.id!==i.id?e:{...e,compressing:{progress:"continuous"},state:"compressing"})})}},52418:function(e,t,i){i.d(t,{A:function(){return a},b:function(){return s}});var o=i(27272),r=i(41480);let a=(0,o.hg)("compress/createImportTask",async e=>{let{type:t,options:i}=e;if("device"===t){let e=await (0,r.v)("/api/tasks/import/device",i);if(e.error)throw{error:e.error};return e}if("googleDrive"===t){let e=await (0,r.v)("/api/tasks/import/google-drive",{fileId:i.fileIds[0],filename:i.filenames[0],gtoken:i.gtoken});if(e.error)throw{error:e.error};return e}if("dropBox"===t){let e=await (0,r.v)("/api/tasks/import/dropbox",{url:i.url,filename:i.filename});if(e.error)throw{error:e.error};return e}if("url"===t){let e=await (0,r.v)("/api/tasks/import/url",{url:i.url});if(e.error)throw{error:e.error};return e}let o=await (0,r.v)("/api/tasks/import/device",{});if(o.error)throw{error:o.error};return o}),s=e=>{e.addCase(a.fulfilled,(e,t)=>{let{payload:{result:i},meta:{arg:{imageId:o}}}=t;if(!i)return}),e.addCase(a.pending,(e,t)=>{let{meta:{arg:{imageId:i}}}=t}),e.addCase(a.rejected,(e,t)=>{let{meta:{arg:{imageId:i}}}=t})}},9286:function(e,t,i){i.d(t,{compressSlice:function(){return u}});var o=i(27272),r=i(52418),a=i(80448);let s={images:[],selectedImageId:null,sort:null,tooltipBounceImageId:null,fromDownloadPage:!1,compressionSettings:{type:"quality",maxFileSize:{value:0},quality:{value:i(32270).K}},downloadButtonState:{state:"active",progress:0}};var n=i(67756),l=i(75822),d=i(72383),m=i(27605),g=i(69391),p=i(50044),c=i(73523);let u=(0,o.oM)({name:"compress",initialState:s,reducers:{addImage:(e,t)=>{let{payload:i}=t;e.images.unshift(i),e.images=(0,n.w)(e.sort,e.images)},setSelectedImage:(e,t)=>{let{payload:i}=t,o=e.images.find(e=>e.id===i);o&&"compressed"===o.state&&(e.selectedImageId=o.id)},deleteImage:(e,t)=>{let{payload:i}=t;e.images=e.images.filter(e=>e.id!==i),e.images[0]?e.selectedImageId=e.images[0].id:e.selectedImageId=null},deleteAllImages:e=>{e.images=[],e.selectedImageId=null},setPreviewSize:(e,t)=>{let{payload:i}=t;e.images=e.images.map(t=>t.id!==e.selectedImageId?t:{...t,preview:{...t.preview,size:i}})},setQuality:(e,t)=>{let{payload:i}=t;i<5||i>100||!e.selectedImageId||(e.images=e.images.map(t=>t.id!==e.selectedImageId?{...t}:{...t,quality:i}))},setSliderValue:(e,t)=>{let{payload:i}=t;i<5||i>100||(e.images=e.images.map(t=>t.id!==e.selectedImageId?t:{...t,sliderValue:i}))},setSort:(e,t)=>{let{payload:i}=t;e.images=[...(0,n.w)(i,e.images)],e.sort=i},setImages:(e,t)=>{let{payload:i}=t;e.images=(0,n.w)(e.sort,i),e.fromDownloadPage=!0},setHasExpired:(e,t)=>{let{payload:{imageId:i,value:o}}=t;e.images=e.images.map(e=>(e.id!==i||(e.hasExpired=o),e))},imageCompressionSettingsSetMaxFileSize:(e,t)=>{let{payload:{imageId:i,value:o}}=t;o<0||o>l.W||(e.images=e.images.map(e=>(e.id!==i||(e.compressionSettings.maxFileSize.value=o),e)))},imageCompressionSettingsSetQuality:(e,t)=>{let{payload:{imageId:i,value:o}}=t;o<5||(e.images=e.images.map(e=>(e.id!==i||(e.compressionSettings.quality.value=o),e)))},imageCompressionSettingsSetType:(e,t)=>{let{payload:{imageId:i,type:o}}=t;e.images=e.images.map(e=>(e.id!==i||(e.compressionSettings.type=o),e))},setAllImagesCompressionSettings:(e,t)=>{let{payload:i}=t;e.images=e.images.map(e=>(e.compressionSettings=(0,m.F)((0,d.Z)(e.file.file),i),e)),e.compressionSettings=i},setCompressed:(e,t)=>{let{payload:i}=t;e.images=e.images.map(e=>{var t,o,r,a,s,n,l,d,m;if(e.id!==i.image.id)return e;let u=null===(t=i.job.tasks)||void 0===t?void 0:t.find(e=>{let{name:t}=e;return"compress"===t}),h=(0,c.Y)(i.job);if(!u||!h)return e;let f=null!==(d=(0,p.B)(e.original.size))&&void 0!==d?d:null===(r=e.importTask)||void 0===r?void 0:null===(o=r.result)||void 0===o?void 0:o.size,v=(f-(null!==(m=null===(a=u.result)||void 0===a?void 0:a.size)&&void 0!==m?m:0))/f*100,y=(null===(n=h.result)||void 0===n?void 0:null===(s=n.url)||void 0===s?void 0:s.toString())||"";return{...e,compressed:{quality:Math.floor(isNaN(v)?0:v),size:(0,g.t)((null===(l=u.result)||void 0===l?void 0:l.size)||0),src:y,job:i.job},state:"compressed",sliderValue:"quality"===i.settings.type?i.settings.quality.value:e.sliderValue}});let o=e.images[0];!e.selectedImageId&&o&&"compressed"===o.state&&(e.selectedImageId=o.id)},setState:(e,t)=>{let{payload:{imageId:i,imageState:o}}=t;e.images=e.images.map(e=>(e.id!==i||(e.state=o),e))},importComplete:(e,t)=>{var i,o;let{payload:{imageId:r,importTask:a,src:s}}=t,n=e.images.find(e=>e.id===r);n&&(n.state="imported",n.src=s,n.original={...n.original,size:(null===(i=a.result)||void 0===i?void 0:i.size)?(0,g.t)(a.result.size):"0 KB"},n.preview={...n.preview,size:(null===(o=a.result)||void 0===o?void 0:o.size)?(0,g.t)(a.result.size):"0 KB"},n.importTask=a)},setImportTask:(e,t)=>{let{payload:{imageId:i,importTask:o}}=t;e.images=e.images.map(e=>e.id!==i?e:{...e,importTask:o})},setProgress:(e,t)=>{var i;let{payload:{imageId:o,progress:r}}=t,a=e.images.find(e=>e.id===o);a&&(a.importing={...null!==(i=a.importing)&&void 0!==i?i:{},progress:r})},setError:(e,t)=>{let{payload:{imageId:i,error:o}}=t;e.images=e.images.map(e=>e.id!==i?e:{...e,error:o,state:"compression_failed"})},setTooltipBounceImageId:(e,t)=>{let{payload:{imageId:i}}=t;e.tooltipBounceImageId=i},settingsSetMaxFileSize:(e,t)=>{let{payload:i}=t;i<0||i>l.W||(e.compressionSettings.maxFileSize.value=i)},settingsSetQuality:(e,t)=>{let{payload:i}=t;i<5||(e.compressionSettings.quality.value=i)},settingsSetType:(e,t)=>{let{payload:i}=t;e.compressionSettings.type=i},setDownloadButtonState:(e,t)=>{let{payload:i}=t;e.downloadButtonState=i}},extraReducers:e=>{(0,a.d)(e),(0,r.b)(e)}})},32270:function(e,t,i){i.d(t,{K:function(){return o}});let o=40},27605:function(e,t,i){i.d(t,{F:function(){return r}});var o=i(32270);let r=(e,t)=>"png"===e||"quality"===t.type?{maxFileSize:{value:0},quality:{value:t.quality.value},type:"quality"}:t.maxFileSize.value<=0?{maxFileSize:{value:0},quality:{value:o.K},type:"quality"}:{maxFileSize:{value:t.maxFileSize.value},quality:{value:t.quality.value},type:"max_file_size"}},86041:function(e,t,i){i.d(t,{cropSlice:function(){return o}});let o=(0,i(27272).oM)({name:"crop",initialState:{image:null,crop:{width:0,height:0,top:0,left:0,ratio:"freeform",cropBox:null,customRatioValues:{x:1,y:1}},fromEditor:!1,upload:{type:"device",settings:{}}},reducers:{setHeight:(e,t)=>{let{payload:i}=t;e.image&&(e.crop.height=i>0?i>e.image.originalHeight?e.image.originalHeight:i:0)},setRatio:(e,t)=>{let{payload:{ratio:i,cropBoxData:o}}=t;e.image&&(e.crop.ratio=i,e.crop={...e.crop,ratio:i,width:o.width*(e.image.originalWidth/e.image.initialWidth),height:o.height*(e.image.originalHeight/e.image.initialHeight),left:o.left*(e.image.originalWidth/e.image.initialWidth),top:o.top*(e.image.originalHeight/e.image.initialHeight)})},setWidth:(e,t)=>{let{payload:i}=t;e.image&&(e.crop.width=i>0?i>e.image.originalWidth?e.image.originalWidth:i:0)},setTop:(e,t)=>{let{payload:i}=t;i<0||!e.image||i>e.image.originalHeight||(e.crop.top=i)},setLeft:(e,t)=>{let{payload:i}=t;i<0||!e.image||i>e.image.originalWidth||(e.crop.left=i)},toggleCropOrientation:e=>{let t=e.crop.width,i=e.crop.height;e.crop.height=t,e.crop.width=i},setImage:(e,t)=>{let{payload:i}=t;e.image=i,e.fromEditor=!0},setUploadData:(e,t)=>{let{payload:i}=t;e.upload=i},setCustomRatioX:(e,t)=>{let{payload:i}=t;e.crop.customRatioValues.x=i<0?0:i},setCustomRatioY:(e,t)=>{let{payload:i}=t;e.crop.customRatioValues.y=i<0?0:i}},extraReducers:{}})},57881:function(e,t,i){i.d(t,{enlargeSlice:function(){return n}});var o=i(27272);let r={resizeSettings:{byDimension:{height:0,width:0,lastModified:"width"},byPercentage:{percentage:100},dpi:"300",unit:"pixels",dimensionType:"pixels",fillColor:{color:"#ffc700",shouldFillColor:!0,type:"color"},isLocked:!0},image:{createdAt:new Date,format:".jpg",original:{height:0,width:0,size:"0 KB"},preview:{height:0,width:0,size:"0 KB"},src:"",title:""},lastModified:null,fromEditor:!1,upload:{type:"device",settings:{}}};var a=i(92874),s=i(99537);let n=(0,o.oM)({name:"enlarge",initialState:r,reducers:{setColor:(e,t)=>{let{payload:i}=t;e.resizeSettings.fillColor.color=i},setDimensionType:(e,t)=>{let{payload:i}=t;e.resizeSettings.dimensionType=i},setDPI:(e,t)=>{let{payload:i}=t;e.resizeSettings.dpi=i},setHeight:(e,t)=>{let{payload:i}=t,o=i;(!o||o<0)&&(o=0),e.resizeSettings.byDimension.height=o,e.resizeSettings.byDimension.lastModified="height",e.lastModified="height";let r=e.resizeSettings.isLocked,a=e.image.original.width/e.image.original.height,s=r?Math.floor(a*o):e.resizeSettings.byDimension.width;e.image={...e.image,preview:{...e.image.preview,width:s,height:o}},e.resizeSettings={...e.resizeSettings,byDimension:{...e.resizeSettings.byDimension,width:s,height:o,lastModified:"height"}}},setIsLocked:(e,t)=>{let{payload:i}=t;e.resizeSettings.isLocked=i},setPercentage:(e,t)=>{let{payload:i}=t;if(!i||i<0||i>200)return;e.resizeSettings.byPercentage.percentage=i,e.lastModified="percentage";let o=Math.floor(e.image.original.width*i/100),r=Math.floor(e.image.original.height*i/100);e.image={...e.image,preview:{...e.image.preview,width:o,height:r}}},setShouldFillColor:(e,t)=>{let{payload:i}=t;e.resizeSettings.fillColor.shouldFillColor=i},setUnit:(e,t)=>{let{payload:i}=t,o=e.resizeSettings.unit;e.resizeSettings={...e.resizeSettings,unit:i,byDimension:{...e.resizeSettings.byDimension,width:(0,a.c)((0,s.m)(e.resizeSettings.byDimension.width,o),i),height:(0,a.c)((0,s.m)(e.resizeSettings.byDimension.height,o),i),lastModified:e.resizeSettings.byDimension.lastModified}},e.image={...e.image,preview:{...e.image.preview,width:(0,a.c)((0,s.m)(e.image.preview.width,o),i),height:(0,a.c)((0,s.m)(e.image.preview.height,o),i)}}},setWidth:(e,t)=>{let{payload:i}=t,o=i;(!o||o<0)&&(o=0),e.resizeSettings.byDimension.width=o,e.resizeSettings.byDimension.lastModified="width",e.lastModified="width";let r=e.resizeSettings.isLocked,a=e.image.original.width/e.image.original.height,s=r?Math.floor(o/a):e.resizeSettings.byDimension.height;e.image={...e.image,preview:{...e.image.preview,width:o,height:s}},e.resizeSettings.byDimension={...e.resizeSettings.byDimension,width:o,height:s,lastModified:"width"}},setImage:(e,t)=>{let{payload:i}=t;e.image=i,e.resizeSettings={...e.resizeSettings,byDimension:{...e.resizeSettings.byDimension,height:i.original.height,width:i.original.width,lastModified:"width"}},e.fromEditor=!0},setFillColorType:(e,t)=>{let{payload:i}=t;e.resizeSettings.fillColor.type=i},setUploadData:(e,t)=>{let{payload:i}=t;e.upload=i}},extraReducers:{}})},59647:function(e,t,i){i.d(t,{flipRotateSlice:function(){return a}});var o=i(27272);let r={flip:{horizontal:!1,vertical:!1},rotate:{rotation:0,straighten:0},image:{src:"/images/sample-flip-and-rotate.png",title:"sample-image.png",height:300,width:300,initialHeight:300,initialWidth:300,originalHeight:300,originalWidth:300,containerWidth:0,containerHeight:0,ratio:1,ext:"png"},isLoading:!1,currentType:"flip",upload:{type:"url",settings:{url:"/images/sample-flip-and-rotate.png"}}},a=(0,o.oM)({name:"flipRotate",initialState:r,reducers:{setImage:(e,t)=>{let{payload:i}=t;e.image=i},flipToggleHorizontal:e=>{e.flip.horizontal=!e.flip.horizontal},flipToggleVertical:e=>{e.flip.vertical=!e.flip.vertical},flipReset:e=>{e.flip=r.flip},rotateSetRotation:(e,t)=>{let{payload:i}=t;e.rotate.rotation=i},rotateSetStraighten:(e,t)=>{let{payload:i}=t;e.rotate.straighten=i},rotateReset:e=>{e.rotate=r.rotate},setCurrentType:(e,t)=>{let{payload:i}=t;e.currentType=i},resetSettings:e=>{e.flip=r.flip,e.rotate=r.rotate},setIsLoading:(e,t)=>{let{payload:i}=t;e.isLoading=i},setUploadData:(e,t)=>{let{payload:i}=t;e.upload=i}},extraReducers:e=>{}})},7199:function(e,t,i){i.d(t,{Nw:function(){return r},uc:function(){return o}});let o=(0,i(27272).oM)({name:"freshworks",initialState:{state:"uninitialized"},reducers:{changeState:(e,t)=>{let{payload:i}=t;e.state=i}}}),r=o.actions},46001:function(e,t,i){i.d(t,{A:function(){return a},b:function(){return s}});var o=i(27272),r=i(41480);let a=(0,o.hg)("uploader/createImportTask",async e=>{let{type:t,options:i}=e;if("device"===t){let e=await (0,r.v)("/api/tasks/import/device",i);if(e.error)throw{error:e.error};return e}if("googleDrive"===t){let e=await (0,r.v)("/api/tasks/import/google-drive",{fileId:i.fileIds[0],filename:i.filenames[0],gtoken:i.gtoken});if(e.error)throw{error:e.error};return e}if("dropBox"===t){let e=await (0,r.v)("/api/tasks/import/dropbox",{url:i.url,filename:i.filename});if(e.error)throw{error:e.error};return e}if("url"===t){let e=await (0,r.v)("/api/tasks/import/url",{url:i.url});if(e.error)throw{error:e.error};return e}let o=await (0,r.v)("/api/tasks/import/device",{});if(o.error)throw{error:o.error};return o}),s=e=>{e.addCase(a.fulfilled,(e,t)=>{let{payload:{result:i},meta:{arg:{imageId:o}}}=t;i&&(e.images=e.images.map(e=>e.id!==o?e:{...e,task:i,fileState:{...e.fileState,status:"task_created"}}))}),e.addCase(a.pending,(e,t)=>{let{meta:{arg:{imageId:i}}}=t;e.images=e.images.map(e=>e.id!==i?e:{...e,fileState:{...e.fileState,status:"creating_task"}})}),e.addCase(a.rejected,(e,t)=>{let{meta:{arg:{imageId:i}}}=t;e.images=e.images.map(e=>e.id!==i?e:{...e,fileState:{...e.fileState,status:"creating_task_failed"}})})}},22237:function(e,t,i){i.d(t,{imageUploaderSlice:function(){return a}});var o=i(27272),r=i(46001);let a=(0,o.oM)({name:"imageUploader",initialState:{images:[],uploadType:"device",invalidImageExtensionModal:{isOpen:!1,allowedExts:[],invalidExts:[]}},reducers:{setUploadType:(e,t)=>{let{payload:{uploadType:i}}=t;e.uploadType=i},setFile:(e,t)=>{let{payload:{imageId:i,fileData:o}}=t;e.images=e.images.map(e=>{var t;return e.id!==i?e:{...e,file:o,fileState:{progress:"continuous",status:"added",previewSource:null!==(t=null==o?void 0:o.src)&&void 0!==t?t:"",task:null}}})},setFileState:(e,t)=>{let{payload:{task:i,fileState:o}}=t;e.images=e.images.map(e=>{var t;return(null===(t=e.task)||void 0===t?void 0:t.id)!==i.id?e:{...e,fileState:{...e.fileState,...o},task:i}})},removeFile:(e,t)=>{let{payload:{taskId:i}}=t;e.images=e.images.filter(e=>{var t;return(null===(t=e.task)||void 0===t?void 0:t.id)!==i})},addImage:(e,t)=>{let{payload:i}=t;e.images=[...e.images,i]},deleteImage:(e,t)=>{let{payload:i}=t;e.images=e.images.filter(e=>e.id!==i)},deleteAllImages:e=>{e.images=[]},reset:e=>{e.images=[],e.uploadType="device"},showInvalidImageExtensionModal:(e,t)=>{let{payload:{allowedExts:i,invalidExts:o}}=t;e.invalidImageExtensionModal={isOpen:!0,allowedExts:i.filter(e=>"heif"!==e),invalidExts:o}},hideInvalidImageExtensionModal:e=>{e.invalidImageExtensionModal={isOpen:!1,allowedExts:[],invalidExts:[]}}},extraReducers:e=>{(0,r.b)(e)}})},6623:function(e,t,i){i.d(t,{iy:function(){return r},n5:function(){return o},z_:function(){return a}});let o=50,r=25,a=50},9098:function(e,t,i){i.d(t,{S:function(){return o}});let o="TEXT HERE"},60011:function(e,t,i){i.d(t,{$:function(){return o}});let o=e=>[{label:"Auto Color",color:e},{label:"White",color:"#fff"},{label:"Black",color:"#000"}]},70731:function(e,t,i){i.d(t,{y:function(){return n},$:function(){return l}});var o=i(27272),r=i(9669),a=i.n(r);async function s(){return await a().get("https://webfonts.googleapis.com/v1/webfonts?key=".concat("AIzaSyBCd1wCGWEIRGi4rfhOdj07f1b0nOiZBfk","&sort=popularity"))}let n=(0,o.hg)("memeGenerator/fetchFontsThunk",async()=>{try{return(await s()).data.items}catch(e){throw Error(e.message)}}),l=e=>{e.addCase(n.fulfilled,(e,t)=>{let{payload:i}=t;e.googleFonts={list:i.map(e=>{let t=e.files;return Object.keys(t).map(e=>{t[e]=t[e].replace("http","https")}),{...e,hasLoaded:!1,files:t}}),isFetching:!1}}),e.addCase(n.pending,e=>{e.googleFonts.isFetching=!0}),e.addCase(n.rejected,(e,t)=>{e.googleFonts.isFetching=!1})}},39232:function(e,t,i){i.d(t,{memeGeneratorSlice:function(){return g}});var o=i(27272),r=i(70731),a=i(16821),s=i(9098),n=i(32345),l=i(24118),d=i(60011),m=i(96255);let g=(0,o.oM)({name:"memeGenerator",initialState:{meme:null,googleFonts:{list:[],isFetching:!1},recentlyUsedFonts:{list:[],isLoading:!1}},reducers:{setMeme:(e,t)=>{let{payload:i}=t;e.meme=i},setMemeInfo:(e,t)=>{let{payload:i}=t;e.meme&&(e.meme={...e.meme,...i})},setSettings:(e,t)=>{let{payload:i}=t;e.meme&&(e.meme.textBoxes=e.meme.textBoxes.map(e=>e.id!==i.id?e:{...e,...i}))},setLoaded:(e,t)=>{let{payload:i}=t,o=e.googleFonts.list.find(e=>e.family===i);o&&(o.hasLoaded=!0)},setActiveTextBoxId:(e,t)=>{let{payload:i}=t;if(e.meme){if(void 0!==i&&void 0!==e.meme.activeIconId){let t=e.meme.icons.find(t=>{var i;return t.id===(null===(i=e.meme)||void 0===i?void 0:i.activeIconId)});t&&(t.state=a.s8.INACTIVE,t.showBorder=!1),e.meme.activeIconId=void 0}if(void 0!==i&&void 0!==e.meme.activeTextBoxId&&i!==e.meme.activeTextBoxId){let t=e.meme.textBoxes.find(t=>{var i;return t.id===(null===(i=e.meme)||void 0===i?void 0:i.activeTextBoxId)});if(!t)return;t.state=a.h.BLUR,t.showBorder=!1,t.showHandlers=!1}e.meme.activeTextBoxId=i}},setRecentlyUsedFonts:(e,t)=>{let{payload:i}=t;e.recentlyUsedFonts.list=i},appendToRecentlyUsedFonts:(e,t)=>{let{payload:i}=t;e.recentlyUsedFonts.list=[i,...e.recentlyUsedFonts.list.filter(e=>e.family!==i.family).slice(0,4)]},setIsLoadingRecentlyUsedFonts:(e,t)=>{let{payload:i}=t;e.recentlyUsedFonts.isLoading=i},applySettingsToAll:(e,t)=>{let{payload:i}=t;if(!e.meme)throw Error("Meme not found");let o=e.meme.textBoxes.find(e=>e.id===i);o&&(e.meme.textBoxes=e.meme.textBoxes.map(e=>e.id===i?e:{...o,id:e.id,value:e.value,innerHTML:e.innerHTML,left:e.left,top:e.top,width:e.width,height:e.height,rotation:e.rotation}))},deleteTextBox:(e,t)=>{let{payload:i}=t;if(!e.meme)throw Error("Meme not found");e.meme.textBoxes=e.meme.textBoxes.filter(e=>e.id!==i),e.meme.activeTextBoxId===i&&(e.meme.activeTextBoxId=void 0)},addTextBox:(e,t)=>{var i,o;let{payload:{id:r}}=t;if(!e.meme)throw Error("Meme not found");let d=.8*e.meme.settings.image.width,m=(e.meme.settings.image.width-d)/2;e.meme.activeTextBoxId=r,e.meme.textBoxes=[...e.meme.textBoxes,{id:r,width:d,height:100,left:m,top:e.meme.settings.image.height/2-50,rotation:0,value:s.S,innerHTML:s.S,...(0,l.V)({forceCaps:!1,textAlign:"center",verticalAlign:"start",fontColor:"#000",font:(null===(i=e.meme.textBoxes[0])||void 0===i?void 0:i.fontFamily)||"Impact"}),state:a.h.INSERT,showBorder:!0,showHandlers:!0,zIndex:((null===(o=(0,n.n)(e))||void 0===o?void 0:o.zIndex)||0)+1,forceCaps:void 0!==e.meme.textBoxes[0]&&e.meme.textBoxes[0].forceCaps}]},setPadding:(e,t)=>{let{payload:i}=t;if(!e.meme)throw Error("Tried to access padding while no meme");let o={...e.meme.padding,...i};if(e.meme.dominantColor&&o.color.label===(0,d.$)(e.meme.dominantColor)[0].label&&(o.color.color=e.meme.dominantColor),o.type===m.DP.TOP){let t=e.meme.settings.image.height*o.value/2/100,i=e.meme.settings.image.height+t,r={type:m.DP.TOP,top:0,left:e.meme.settings.image.left,width:e.meme.settings.image.width,height:t};o.instances=[r],e.meme.settings.image.top=r.top+r.height,e.meme.settings.itemsContainer.height=i,e.meme.settings.itemsContainer.top=i>=e.meme.settings.parentContainerInitial.height?0:(e.meme.settings.parentContainerInitial.height-i)/2}else if(o.type===m.DP.BOTTOM){let t=e.meme.settings.image.height*o.value/2/100,i=e.meme.settings.image.height+t,r={type:m.DP.BOTTOM,top:e.meme.settings.image.height,left:0,width:e.meme.settings.image.width,height:t};o.instances=[r],e.meme.settings.image.top=0,e.meme.settings.itemsContainer.height=i,e.meme.settings.itemsContainer.top=i>=e.meme.settings.parentContainerInitial.height?0:(e.meme.settings.parentContainerInitial.height-i)/2}else if(o.type===m.DP.TOP_AND_BOTTOM){let t=e.meme.settings.image.height*o.value/100,i=e.meme.settings.image.height+t,r={type:m.DP.TOP,top:0,left:e.meme.settings.image.left,width:e.meme.settings.image.width,height:t/2},a={type:m.DP.BOTTOM,top:r.height+e.meme.settings.image.height,left:0,width:e.meme.settings.image.width,height:t/2};o.instances=[r,a],e.meme.settings.image.top=r.top+r.height,e.meme.settings.itemsContainer.height=i,e.meme.settings.itemsContainer.top=i>=e.meme.settings.parentContainerInitial.height?0:(e.meme.settings.parentContainerInitial.height-i)/2}else o.type===m.DP.NONE&&(o.instances=[],e.meme.settings.itemsContainer.height=e.meme.settings.image.height,e.meme.settings.image.top=0);e.meme.padding=o},deletePadding:e=>{if(!e.meme)throw Error("Meme not found while deleting padding");e.meme.padding={...e.meme.padding,isApplied:!1,instances:[]},e.meme.settings.itemsContainer.height=e.meme.settings.image.height,e.meme.settings.image.top=0},addIcon:(e,t)=>{let{payload:i}=t;if(!e.meme)throw Error("Tried to add icon when meme is ".concat(e.meme));e.meme.icons.push(i)},removeIcon:(e,t)=>{let{payload:i}=t;if(!e.meme)throw Error("Tried to add icon when meme is ".concat(e.meme));e.meme.icons=e.meme.icons.filter(e=>e.id!==i)},setIconSettings:(e,t)=>{let{payload:{id:i,...o}}=t;if(!e.meme)throw Error("Tried to add icon when meme is ".concat(e.meme));let r=e.meme.icons.find(e=>e.id===i);if(!r)throw Error("Icon with id: ".concat(i," not found"));r.settings={...r.settings,...o}},editIcon:(e,t)=>{let{payload:i}=t,o=e.meme;if(!o)throw Error("Tried to edit icon when icon is ".concat(e.meme));o.icons=o.icons.map(t=>{if(t.id!==i.id)return void 0!==i.state&&i.state===a.s8.ACTIVE&&(t.state=a.s8.INACTIVE,t.showBorder=!1),t;if(t={...t,...i},void 0!==i.state&&i.state===a.s8.ACTIVE){var r;if(t.zIndex=((null===(r=(0,n.n)(e))||void 0===r?void 0:r.zIndex)||0)+1,o.activeIconId=t.id,void 0!==o.activeTextBoxId){let e=o.textBoxes.find(e=>e.id===o.activeTextBoxId);e&&(e.state=a.h.BLUR),o.activeTextBoxId=void 0}}return t})},setActiveIconId:(e,t)=>{let{payload:i}=t;e.meme&&(e.meme.activeIconId=i,void 0!==i&&(e.meme.activeTextBoxId=void 0))},editIconDraggingState:(e,t)=>{var i;let{payload:{id:o,draggingState:r}}=t,a=null===(i=e.meme)||void 0===i?void 0:i.icons.find(e=>e.id===o);a&&(a.draggingStage={...a.draggingStage,...r})}},extraReducers:e=>{(0,r.$)(e)}})},16821:function(e,t,i){var o,r,a,s;i.d(t,{h:function(){return r},s8:function(){return o}}),(a=o||(o={})).ACTIVE="active",a.INACTIVE="inactive",(s=r||(r={})).BLUR="blur",s.PRE_INSERT="pre-insert",s.INSERT="insert"},96255:function(e,t,i){i.d(t,{DP:function(){return r},uD:function(){return s}});var o,r,a=i(60011);function s(e){return{type:"none",color:(0,a.$)(e)[0],value:50,instances:[]}}(o=r||(r={})).NONE="none",o.TOP="top",o.BOTTOM="bottom",o.TOP_AND_BOTTOM="top_and_bottom"},32345:function(e,t,i){i.d(t,{n:function(){return o}});let o=e=>{var t,i;return[...(null===(t=e.meme)||void 0===t?void 0:t.textBoxes)||[],...(null===(i=e.meme)||void 0===i?void 0:i.icons)||[]].sort((e,t)=>e.zIndex>t.zIndex?-1:1)[0]}},24118:function(e,t,i){i.d(t,{V:function(){return a}});var o=i(97234),r=i(6623);let a=e=>{let t=(0,o.Z)(e.fontColor).isDark();return{decoration:{underline:!1,bold:!1,italic:!1},alignment:{horizontal:"center"===e.textAlign?"middle":"start",vertical:"middle"===e.verticalAlign?"middle":"start"},spacing:{letter:1,line:1.5},outline:{size:3,color:t?"white":"black",isActive:!0},shadow:{isActive:!0,color:t?"white":"black",blurRadius:5},opacity:100,fontFamily:e.font,fontColor:e.fontColor,fontSize:r.n5}}},71496:function(e,t,i){i.d(t,{resizeBackgroundImportSlice:function(){return o}});let o=(0,i(27272).oM)({name:"resizeBackgroundImport",initialState:{isImporting:!1,importComplete:!1},reducers:{setTask:(e,t)=>{let{payload:i}=t;e.task||(e.task=i)},setProgress:(e,t)=>{let{payload:i}=t;void 0!==e.progress&&i<e.progress||(e.progress=i)},setIsImporting:(e,t)=>{let{payload:i}=t;e.isImporting=i},setImportComplete:(e,t)=>{let{payload:i}=t;e.importComplete=i,e.isImporting=!i},reset:e=>{e.importComplete=!1,e.isImporting=!1,e.progress=void 0,e.task=void 0}},extraReducers:e=>{}})},8858:function(e,t,i){i.d(t,{resizeDownloadSlice:function(){return a}});var o=i(27272);let r={image:{original:{width:0,height:0,size:"0 KB"},preview:{width:0,height:0,size:"0 KB"},src:"",title:"",format:".jpg",createdAt:new Date}},a=(0,o.oM)({name:"resizeDownload",initialState:r,reducers:{setPreview:(e,t)=>{let{payload:i}=t;e.image.preview={...e.image.preview,...i}},setSrc:(e,t)=>{let{payload:{src:i}}=t;e.image.src=i},setImageInfo:(e,t)=>{let{payload:{src:i,format:o,title:r}}=t;e.image={...e.image,src:null!=i?i:e.image.src,format:null!=o?o:e.image.format,title:null!=r?r:e.image.title}},setOriginal:(e,t)=>{let{payload:i}=t;e.image.original={...e.image.original,...i}},reset:e=>r},extraReducers:e=>{}})},94049:function(e,t,i){i.d(t,{J:function(){return s},N:function(){return a}});var o=i(27272),r=i(41480);let a=(0,o.hg)("resizeEditor/createResizeJob",async e=>{var t,i,o,a,s,l,d;let{crop:m,resize:g,importTask:p,tag:c,extra:u}=e,h={},f={max_file_size:g.options.maxFileSize,background_color:g.options.background,fill_background:void 0!==g.options.fillBackground&&g.options.fillBackground,image_dpi:g.options.dpi,"auto-orient":!0,strip:!0};f={image_rotate:g.options.rotation,image_vertical_flip:g.options.verticalFlip,image_horizontal_flip:g.options.horizontalFlip,...f},f="percentage"===g.resize_as?{...f,image_resize_percentage:g.percentage}:{...f,image_custom_width:(null===(o=g.dimensions)||void 0===o?void 0:o.width)?Math.floor(g.dimensions.width):void 0,image_custom_height:(null===(a=g.dimensions)||void 0===a?void 0:a.height)?Math.floor(g.dimensions.height):void 0},"png"===g.outputFormat&&(f={...f,png_convert_quality:100,png_compression_level:"lossy"}),g.optimization_level&&(f={...f,...n(g.optimization_level,null!==(s=g.outputFormat)&&void 0!==s?s:"jpg")}),"percentage"===g.resize_as?h.percentage=g.percentage:"dimensions"===g.resize_as&&(h.dimensions=g.dimensions),h={...h,operation:"convert",input:m?"crop":p.id,input_format:null===(t=g.inputFormat)||void 0===t?void 0:t.toLowerCase(),output_format:null===(i=g.outputFormat)||void 0===i?void 0:i.toLowerCase(),resize_as:g.resize_as,options:f};let v={operation:"export/url",input:"resize"};if(u&&(v.extra=u),m){let e={operation:"convert",input:m.inputTask.id,input_format:null===(l=m.inputFormat)||void 0===l?void 0:l.toLowerCase(),output_format:null===(d=m.outputFormat)||void 0===d?void 0:d.toLowerCase(),options:{crop_x_coordinates:m.options.x,crop_y_coordinates:m.options.y,image_crop_target_width:m.options.width,image_crop_target_height:m.options.height}},t=await (0,r.v)("/api/jobs",{tag:c||"resize-editor-conversion",tasks:{crop:e,resize:h,exportTask:v}});if(t.error)throw{error:t.error};return t}{let e=await (0,r.v)("/api/jobs",{tag:c||"resize-editor-conversion",tasks:{resize:h,exportTask:v}});if(e.error)throw{error:e.error};return e}}),s=e=>{},n=(e,t)=>{switch(e){case"best":if("png"===t)return{png_compression_quality:92};if("jpg"===t||"jpeg"===t)return{jpeg_compress_image_quality:92};if("gif"===t)return{gif_compression_level:92};case"good":if("png"===t)return{png_compression_quality:70};if("jpg"===t||"jpeg"===t)return{jpeg_compress_image_quality:70};if("gif"===t)return{gif_compression_level:70};case"average":if("png"===t)return{png_compression_quality:55};if("jpg"===t||"jpeg"===t)return{jpeg_compress_image_quality:55};if("gif"===t)return{gif_compression_level:55}}}},75201:function(e,t,i){i.d(t,{$:function(){return o},_:function(){return r}});let o=200,r=(e,t)=>{let{payload:i}=t;!i||i<0||i>o||(e.resize.byPercentage.percentage=i)}},75822:function(e,t,i){i.d(t,{W:function(){return o},c:function(){return r}});let o=256e3,r=(e,t)=>{let{payload:i}=t;i>("KB"===e.resize.exportSettings.fileUnit?o:Math.floor(o/1e3))||(e.resize.exportSettings.targetFileSize=i)}},39872:function(e,t,i){i.d(t,{resizeEditorSlice:function(){return p}});var o=i(27272),r=i(94049);let a={image:null,resize:{byDimension:{width:0,height:0,lastModified:"width"},byPercentage:{percentage:100},dimensionType:"pixels",dpi:"300",unit:"pixels",isLocked:!0,exportSettings:{saveAs:"original",targetFileSize:"",fileUnit:"KB",optimizationLevel:"custom"},fillColor:{color:"#000000",shouldFillColor:!0,type:"color"}},crop:{height:0,width:0,top:0,left:0,ratio:"freeform",cropBox:null,customRatioValues:{x:1,y:1}},flip:{horizontal:!1,vertical:!1},rotate:{rotation:0,straighten:0},currentType:"resize",history:[],editModal:!1,operations:[]};var s=i(75201),n=i(75822),l=i(92874),d=i(99537),m=i(15970);let g={setImage:(e,t)=>{let{payload:i}=t;e.image=i},imageSetRatio:(e,t)=>{let{payload:{value:i}}=t;e.image&&(e.image.ratio=i)},resizeSetEditType:(e,t)=>{let{payload:i}=t;e.currentType=i},resizeSetDimensionType:(e,t)=>{let{payload:i}=t;e.resize.dimensionType=i},resizeSetWidth:(e,t)=>{let{payload:i}=t,o=i;if((!o||o<0)&&(o=0),"crop"===e.currentType){e.resize.byDimension.width=o;return}let r=o,a=e.resize.byDimension.height;e.resize.isLocked&&e.image&&(a=o/e.image.ratio),e.resize.byDimension.width=r,e.resize.byDimension.height=a,e.resize.byDimension.lastModified="width"},resizeSetHeight:(e,t)=>{let{payload:i}=t,o=i;if((!o||o<0)&&(o=0),"crop"===e.currentType){e.resize.byDimension.height=o;return}let r=o,a=e.resize.byDimension.width;e.resize.isLocked&&e.image&&(a=e.image.ratio*r),e.resize.byDimension.width=a,e.resize.byDimension.height=r,e.resize.byDimension.lastModified="height"},resizeSetIsLocked:(e,t)=>{let{payload:i}=t;e.resize.isLocked=i;let o=e.crop.cropBox;i&&o&&("width"===e.resize.byDimension.lastModified?e.resize.byDimension.height=Math.round(e.resize.byDimension.width*(o.height/o.width)):e.resize.byDimension.width=Math.round(e.resize.byDimension.height*(o.width/o.height)))},resizeSetDPI:(e,t)=>{let{payload:i}=t;e.resize.dpi=i},resizeSetSaveAs:(e,t)=>{let{payload:i}=t;e.resize.exportSettings.saveAs=i,".png"===i&&"custom"===e.resize.exportSettings.optimizationLevel&&(e.resize.exportSettings.optimizationLevel="best"),".jpg"===i&&(e.resize.fillColor.type="color")},resizeSetTargetFileSize:n.c,resizeSetUnit:(e,t)=>{let{payload:i}=t;e.resize.byDimension.width=(0,l.c)((0,d.m)(e.resize.byDimension.width,e.resize.unit,+e.resize.dpi),i,+e.resize.dpi),e.resize.byDimension.height=(0,l.c)((0,d.m)(e.resize.byDimension.height,e.resize.unit,+e.resize.dpi),i,+e.resize.dpi),e.resize.unit=i},resizeSetPercentage:s._,resizeSetColor:(e,t)=>{let{payload:i}=t;e.resize.fillColor.color=i},resizeSetShouldFillColor:(e,t)=>{let{payload:i}=t;e.resize.fillColor.shouldFillColor=i},resizeToggleDimension:e=>{let t=e.resize.byDimension.width,i=e.resize.byDimension.height;e.resize.byDimension.width=i,e.resize.byDimension.height=t},resizeSetOptimizationLevel:(e,t)=>{let{payload:i}=t;e.resize.exportSettings.optimizationLevel=i},resizeSetFileUnit:(e,t)=>{let{payload:i}=t;e.resize.exportSettings.fileUnit=i,""!==e.resize.exportSettings.targetFileSize&&0!==e.resize.exportSettings.targetFileSize&&"MB"===i&&e.resize.exportSettings.targetFileSize>n.W/1e3&&(e.resize.exportSettings.targetFileSize=n.W/1e3)},resizeSetFillColorType:(e,t)=>{let{payload:i}=t;e.resize.fillColor.type=i},cropSetWidth:(e,t)=>{let{payload:i}=t;e.image&&(e.crop.width=i>0?i>e.image.originalWidth?e.image.originalWidth:i:0)},cropSetHeight:(e,t)=>{let{payload:i}=t;e.image&&(e.crop.height=i>0?i>e.image.originalHeight?e.image.originalHeight:i:0)},cropSetRatio:(e,t)=>{let{payload:i}=t;e.crop.ratio=i},cropToggleCropOrientation:e=>{let t=e.crop.width,i=e.crop.height;e.crop.height=t,e.crop.width=i},cropSetLeft:(e,t)=>{let{payload:i}=t;e.crop.left=i},cropSetTop:(e,t)=>{let{payload:i}=t;e.crop.top=i},cropSetCropBox:(e,t)=>{let{payload:{cropBox:i}}=t;e.crop.cropBox=i,e.operations.push({name:"crop",value:{cropBox:i,rotation:e.rotate.rotation}})},cropReset:e=>{if(!e.image)return;let t=(0,l.c)(e.image.initialWidth,e.resize.unit),i=(0,l.c)(e.image.initialHeight,e.resize.unit);e.resize.byDimension={...e.resize.byDimension,width:"pixels"===e.resize.unit?Math.round(t):(0,m.D)(t),height:"pixels"===e.resize.unit?Math.round(i):(0,m.D)(i)},e.crop.ratio="freeform",e.crop.customRatioValues=a.crop.customRatioValues},cropHandleCropBoxChange:(e,t)=>{let{payload:i}=t;e.crop={...e.crop,cropBox:e.crop.cropBox,width:i.width<0?0:i.width,height:i.height<0?0:i.height,top:i.top<0?0:i.top,left:i.left<0?0:i.left}},cropSetCustomRatioX:(e,t)=>{let{payload:i}=t;e.crop.customRatioValues.x=i<0?0:i},cropSetCustomRatioY:(e,t)=>{let{payload:i}=t;e.crop.customRatioValues.y=i<0?0:i},flipToggleHorizontal:e=>{e.flip.horizontal=!e.flip.horizontal,e.operations.push({name:"flip",value:{value:"horizontal",rotation:e.rotate.rotation}})},flipToggleVertical:e=>{e.flip.vertical=!e.flip.vertical,e.operations.push({name:"flip",value:{value:"vertical",rotation:e.rotate.rotation}})},flipReset:e=>{e.flip=a.flip},rotateSetRotation:(e,t)=>{let{payload:i}=t;e.operations.push({name:"rotate",value:{rotation:i,direction:0===i?270===e.rotate.rotation||-90===e.rotate.rotation?"clock-wise":"counter-clock-wise":i>e.rotate.rotation?"clock-wise":"counter-clock-wise",flip:{horizontal:e.flip.horizontal,vertical:e.flip.vertical}}}),e.rotate.rotation=i},rotateSetStraighten:(e,t)=>{let{payload:i}=t;e.rotate.straighten=i},rotateReset:e=>{e.rotate=a.rotate},rotateSetInitialData:(e,t)=>{let{payload:{value:i}}=t;e.rotate.initialData=i},historyPush:(e,t)=>{let{payload:i}=t;e.history=[...e.history,i]},historyPop:e=>{let t=[...e.history];t.pop(),e.history=[...t]},modalOpen:e=>{e.editModal=!0},modalClose:e=>{e.editModal=!1},reset:e=>a,resetSettings:e=>{e.crop=a.crop,e.currentType=a.currentType,e.editModal=a.editModal,e.flip=a.flip,e.history=a.history,e.resize=a.resize,e.rotate=a.rotate,e.operations=a.operations},addOperation:(e,t)=>{let{payload:i}=t;e.operations.push(i)},deleteAllOperations:e=>{e.operations=[]}},p=(0,o.oM)({name:"resizeEditor",initialState:a,reducers:g,extraReducers:e=>{(0,r.J)(e)}})},86203:function(e,t,i){i.d(t,{toastsSlice:function(){return o}});let o=(0,i(27272).oM)({name:"toasts",initialState:{toasts:[]},reducers:{addToast:(e,t)=>{let{payload:{toast:i}}=t;i.batch&&e.toasts.filter(e=>e.batch===i.batch).length>0||(e.toasts=[...e.toasts,{...i}])},removeToast:(e,t)=>{let{payload:{id:i}}=t;e.toasts=e.toasts.filter(e=>e.id!==i)},removeBatch:(e,t)=>{let{payload:{batch:i}}=t;i&&(e.toasts=e.toasts.filter(e=>e.batch!==i))}},extraReducers:{}})},32536:function(e,t,i){i.d(t,{h:function(){return x},TL:function(){return b},CG:function(){return I}});var o=i(27272),r=i(14890),a=i(54727);let s=(0,o.oM)({name:"bulkResizeDownload",initialState:{jobs:[],isExporting:!1,isProcessing:!0,downloadUrl:""},reducers:{setDownloadUrl:(e,t)=>{let{payload:i}=t;e.downloadUrl=i},setIsProcessing:(e,t)=>{let{payload:i}=t;e.isProcessing=i},setIsExporting:(e,t)=>{let{payload:i}=t;e.isExporting=i},reset:e=>{e.downloadUrl="",e.isExporting=!1,e.isProcessing=!0,e.jobs=[]},setJobs:(e,t)=>{let{payload:{jobs:i}}=t;e.jobs=i},appendJob:(e,t)=>{let{payload:i}=t,o=e.jobs;o.push(i.job),e.jobs=o},editJob:(e,t)=>{let{payload:i}=t;e.jobs=e.jobs.map(e=>e.id!==i.job.id?e:{...e,...i.job})}},extraReducers:e=>{}});var n=i(10096),l=i(9286),d=i(86041),m=i(57881),g=i(59647),p=i(7199),c=i(22237),u=i(39232),h=i(71496),f=i(8858),v=i(39872),y=i(86203);let z=(0,r.UY)({imageUploader:c.imageUploaderSlice.reducer,resizeEditor:v.resizeEditorSlice.reducer,resizeDownload:f.resizeDownloadSlice.reducer,resizeBackgroundImport:h.resizeBackgroundImportSlice.reducer,bulkResize:a.bulkResizeSlice.reducer,enlarge:m.enlargeSlice.reducer,crop:d.cropSlice.reducer,flipRotate:g.flipRotateSlice.reducer,compress:l.compressSlice.reducer,colorPicker:n.colorPickerSlice.reducer,toasts:y.toastsSlice.reducer,bulkResizeDownload:s.reducer,memeGenerator:u.memeGeneratorSlice.reducer,freshworks:p.uc.reducer});var w=i(53894),S=i(25617);let x=(0,o.xC)({reducer:z,middleware:e=>e({serializableCheck:!1}).concat(w.Z)}),b=()=>(0,S.I0)(),I=S.v9},67756:function(e,t,i){i.d(t,{w:function(){return r}});var o=i(50044);let r=(e,t)=>{switch(e){case"name-a-z":return[...t].sort((e,t)=>e.title.toLowerCase()>t.title.toLowerCase()?1:-1);case"name-z-a":return[...t].sort((e,t)=>e.title.toLowerCase()<t.title.toLowerCase()?1:-1);case"biggest-first":return[...t].sort((e,t)=>(0,o.B)(t.original.size)-(0,o.B)(e.original.size));case"smallest-first":return[...t].sort((e,t)=>(0,o.B)(e.original.size)-(0,o.B)(t.original.size));default:return t}}},69391:function(e,t,i){i.d(t,{t:function(){return o}});let o=e=>e<1024?"".concat(e," B"):e<1048576?"".concat(Number((e/1024).toFixed(2))," KB"):e<1073741824?"".concat(Number((e/1048576).toFixed(2))," MB"):"".concat(Number((e/1073741824).toFixed(2))," GB")},73523:function(e,t,i){i.d(t,{Y:function(){return o}});let o=e=>{var t;return null===(t=e.tasks)||void 0===t?void 0:t.find(e=>{let{name:t}=e;return"exportTask"===t})}},72383:function(e,t,i){i.d(t,{Z:function(){return o},i:function(){return r}});let o=e=>{var t,i;return(null!==(t=e.name)&&void 0!==t?t:"").split(".")[(null!==(i=e.name)&&void 0!==i?i:"").split(".").length-1].split("?")[0].toLowerCase()},r=e=>(null!=e?e:"").split(".")[(null!=e?e:"").split(".").length-1].split("?")[0].toLowerCase()},92874:function(e,t,i){i.d(t,{c:function(){return r},q:function(){return o}});let o=25.4,r=(e,t,i)=>{let r=void 0===i?1:i>0?i:1;return"cm"===t?o/10*e/r:"mm"===t?e*o/r:"inch"===t?e/r:e}},99537:function(e,t,i){i.d(t,{m:function(){return r}});var o=i(92874);let r=(e,t,i)=>{let r=void 0===i?1:i>0?i:1;return"cm"===t?e/(o.q/10)*r:"mm"===t?e/o.q*r:"inch"===t?e*r:e}},15970:function(e,t,i){i.d(t,{D:function(){return o}});let o=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Math.ceil(e)===e?e:t?+e.toFixed(2):+"".concat(e.toString().split(".")[0],".").concat(e.toString().split(".")[1].substring(0,2))}},50044:function(e,t,i){i.d(t,{B:function(){return o}});let o=e=>{let t=Number(e.split(" ")[0]),i=e.split(" ")[1];return"B"===i?t:"KB"===i?1024*t:"MB"===i?1048576*t:"GB"===i?1073741824*t:t}}}]);
//# sourceMappingURL=8092-20baf956e327020e.js.map