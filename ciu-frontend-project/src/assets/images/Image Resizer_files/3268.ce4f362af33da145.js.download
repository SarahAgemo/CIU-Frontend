!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="743e20c3-a37b-414a-b8b2-195f1aeabf84",e._sentryDebugIdIdentifier="sentry-dbid-743e20c3-a37b-414a-b8b2-195f1aeabf84")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3268],{53268:function(e,t,n){n.r(t),n.d(t,{ResizeUploader:function(){return z}});var r=n(85893),i=n(50036),u=n(58092),o=n(37911),l=n(14743),c=n(97885),a=n(11163),f=n(47301),s=n(32536),d=n(41062),g=n(35001),p=n(72383),m=n(45777),h=n(77591),v=n(294),I=n(77801),b=n(67294);let _=()=>{let e=(0,a.useRouter)(),t=(0,s.TL)(),{toast:n}=(0,h.p)(),{query:r}=(0,a.useRouter)(),{images:i,deleteImage:u,deleteAllImages:o}=(0,d.J)(()=>{var n,r,u,o,l,c,a,s;let d=null===(n=i[0])||void 0===n?void 0:n.task;if(!d)return;let h=i[0];if(!h.file)return;let v="device"===h.upload.type?h.file.src:null!==(a=null===(o=h.task)||void 0===o?void 0:null===(u=o.result)||void 0===u?void 0:null===(r=u.url)||void 0===r?void 0:r.toString())&&void 0!==a?a:h.file.src;t((0,f.QL)({src:v,height:0,width:0,initialHeight:0,initialWidth:0,originalHeight:0,originalWidth:0,containerWidth:0,containerHeight:0,ratio:1,title:h.file.file.name,ext:(0,p.Z)(h.file.file)})),t((0,g.mc)()),e.push("/".concat("en"===e.locale?"":"".concat(e.locale,"/")).concat(null===(c=m.Z["/resize/editor/:taskId"])||void 0===c?void 0:null===(l=c[null!==(s=e.locale)&&void 0!==s?s:"en"])||void 0===l?void 0:l.replace(":taskId",d.id)))},()=>{(0,l.ga)("send",{hitType:"pageview",page:"/vp/image_resizer/image_loaded/",title:"Image Resizer Image Loaded"}),(0,c.S)("event","Image Loaded",{event_category:"Image Resizer",event_label:"Upload Page"})}),_=(0,I.V)("use-our-bulk-resize-tool-to-batch-resize-images"),y=(0,I.V)("corrupt-image-toast-test");return(0,b.useEffect)(()=>{"true"===r.errorFromEditor&&n({closeable:!0,position:"top-right",status:"success",text:y,time:v.w})},[r]),{deleteImage:u,deleteAllImages:o,filterFiles:e=>{var t;return e.length>1&&(t=e.length,n({closeable:!0,position:"top-right",status:"success",text:_,time:v.w}),t>10&&(0,c.S)("event","Select Image",{event_category:"Image Resizer",event_label:"Batch upload on single resizer"})),[e[0]]}}},y=()=>{let{deleteImage:e,deleteAllImages:t,filterFiles:n}=_();return(0,r.jsx)(o.w,{deleteImage:e,deleteAllImages:t,maxUploads:1,analytics:{pageKey:"image_resizer",pageTitle:"Image Resizer"},htmlFileInputId:"file-input",skipImportAfterTaskCreate:!0,supportedExtensions:i.p.resizer,filterFiles:n})},z=()=>(0,r.jsx)(u.m,{children:(0,r.jsx)(y,{})})},32954:function(e,t,n){n.d(t,{El:function(){return r},lj:function(){return u}});let r=50,i=["added","creating_task","creating_task_failed","importing","importing_failed","task_created"],u=e=>{if(0===e.length)return!1;let t=!1;return e.forEach(e=>{i.includes(e.fileState.status)&&(t=!0)}),!t}},41062:function(e,t,n){n.d(t,{J:function(){return a}});var r=n(25617),i=n(44980),u=n(16494),o=n(32536),l=n(67294),c=n(32954);let a=(e,t)=>{let{images:n}=(0,o.CG)(u.d,f),a=(0,r.I0)(),s=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{n.length>0&&!s.current&&(t&&t(),s.current=!0),n.length>0&&(0,c.lj)(n)&&(e(),setTimeout(()=>a((0,i.mc)()),2e3))},[n]),(0,l.useEffect)(()=>()=>{a((0,i.mc)())},[]),{images:n,deleteImage:e=>{a((0,i.ao)(e.id))},deleteAllImages:()=>{a((0,i.zC)())}}},f=(e,t)=>{if(e.images.length!==t.images.length)return!1;let n=!1;return e.images.forEach(e=>{let r=t.images.find(t=>t.id===e.id);if(!r){n=!0;return}e.fileState.status!==r.fileState.status&&(n=!0)}),!n}},35001:function(e,t,n){n.d(t,{X3:function(){return r},eE:function(){return u},gn:function(){return i},mc:function(){return l},pB:function(){return o}});let{setTask:r,setIsImporting:i,setProgress:u,setImportComplete:o,reset:l}=n(71496).resizeBackgroundImportSlice.actions},47301:function(e,t,n){n.d(t,{Ay:function(){return C},B7:function(){return F},Bd:function(){return d},Bo:function(){return j},Bq:function(){return D},CT:function(){return h},Ij:function(){return N},OS:function(){return X},Oz:function(){return v},QL:function(){return r},Sl:function(){return G},Wn:function(){return Q},XI:function(){return E},Xc:function(){return c},Y0:function(){return g},Ym:function(){return i},ZN:function(){return O},_O:function(){return _},dI:function(){return m},dS:function(){return b},eE:function(){return u},is:function(){return A},l5:function(){return z},lf:function(){return l},oM:function(){return R},or:function(){return f},pR:function(){return S},pU:function(){return w},pj:function(){return k},rW:function(){return T},sp:function(){return s},u4:function(){return o},vG:function(){return B},x_:function(){return x},yD:function(){return a},yI:function(){return p},zE:function(){return y},zO:function(){return L}});let{setImage:r,imageSetRatio:i,resizeSetColor:u,resizeSetDPI:o,resizeSetDimensionType:l,resizeSetEditType:c,resizeSetHeight:a,resizeSetIsLocked:f,resizeSetPercentage:s,resizeSetSaveAs:d,resizeSetShouldFillColor:g,resizeSetTargetFileSize:p,resizeSetUnit:m,resizeSetWidth:h,resizeToggleDimension:v,resizeSetOptimizationLevel:I,resizeSetFileUnit:b,resizeSetFillColorType:_,cropSetHeight:y,cropSetWidth:z,cropSetRatio:k,cropToggleCropOrientation:E,cropSetLeft:w,cropSetTop:S,cropSetCropBox:x,cropReset:R,cropHandleCropBoxChange:j,cropSetCustomRatioX:B,cropSetCustomRatioY:C,flipToggleHorizontal:T,flipToggleVertical:D,flipReset:L,rotateSetStraighten:W,rotateSetRotation:A,rotateReset:F,rotateSetInitialData:O,historyPop:U,historyPush:H,modalClose:N,modalOpen:X,reset:Z,resetSettings:G,addOperation:J,deleteAllOperations:Q}=n(39872).resizeEditorSlice.actions}}]);
//# sourceMappingURL=3268.ce4f362af33da145.js.map