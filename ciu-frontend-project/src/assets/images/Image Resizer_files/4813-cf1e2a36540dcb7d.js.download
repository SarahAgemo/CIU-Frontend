!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="29dd8c64-d2aa-4d2a-9a26-dfdf68cb2020",e._sentryDebugIdIdentifier="sentry-dbid-29dd8c64-d2aa-4d2a-9a26-dfdf68cb2020")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4813],{44362:function(e,t,n){n.d(t,{p:function(){return i}});var r=n(85893),a=n(57851);let i=e=>{let{width:t,height:n,className:i}=e;return(0,r.jsx)("svg",{width:null!=t?t:18,height:null!=n?n:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8.99918 1.27776e-08C9.8076 -7.26652e-05 10.5853 0.309897 11.172 0.866056C11.7587 1.42222 12.1097 2.18221 12.1529 2.98947L12.1571 3.15789H16.7887C16.9487 3.15794 17.1027 3.21873 17.2196 3.32798C17.3366 3.43722 17.4077 3.58678 17.4186 3.74643C17.4295 3.90607 17.3794 4.06391 17.2784 4.18804C17.1774 4.31217 17.0331 4.39335 16.8745 4.41516L16.7887 4.42105H15.8969L14.8695 17.0973C14.8054 17.8881 14.446 18.6258 13.8627 19.1636C13.2794 19.7015 12.5151 20.0001 11.7217 20H6.27665C5.48326 20.0001 4.71891 19.7015 4.13566 19.1636C3.5524 18.6258 3.19297 17.8881 3.12886 17.0973L2.10065 4.42105H1.2097C1.05708 4.42105 0.909627 4.36577 0.794605 4.26546C0.679583 4.16514 0.604776 4.02657 0.58402 3.87537L0.578125 3.78947C0.578131 3.63685 0.633403 3.4894 0.733718 3.37437C0.834034 3.25935 0.972606 3.18455 1.12381 3.16379L1.2097 3.15789H5.84128C5.84128 2.32037 6.17399 1.51715 6.76621 0.924926C7.35843 0.332706 8.16165 1.27776e-08 8.99918 1.27776e-08V1.27776e-08ZM14.6303 4.42105H3.36802L4.38781 16.9954C4.42632 17.4698 4.64201 17.9124 4.992 18.2351C5.34199 18.5578 5.80061 18.7369 6.27665 18.7368H11.7217C12.1977 18.7369 12.6564 18.5578 13.0064 18.2351C13.3563 17.9124 13.572 17.4698 13.6105 16.9954L14.6295 4.42105H14.6303ZM7.10444 7.57895C7.25706 7.57895 7.40452 7.63423 7.51954 7.73454C7.63456 7.83486 7.70937 7.97343 7.73013 8.12463L7.73602 8.21053V14.9474C7.73597 15.1074 7.67518 15.2614 7.56594 15.3784C7.45669 15.4953 7.30714 15.5664 7.14749 15.5773C6.98784 15.5882 6.83001 15.5381 6.70587 15.4371C6.58174 15.3361 6.50057 15.1918 6.47876 15.0333L6.47286 14.9474V8.21053C6.47286 8.04302 6.5394 7.88238 6.65785 7.76393C6.77629 7.64549 6.93694 7.57895 7.10444 7.57895V7.57895ZM10.8939 7.57895C11.0465 7.57895 11.194 7.63423 11.309 7.73454C11.424 7.83486 11.4988 7.97343 11.5196 8.12463L11.5255 8.21053V14.9474C11.5254 15.1074 11.4647 15.2614 11.3554 15.3784C11.2462 15.4953 11.0966 15.5664 10.937 15.5773C10.7773 15.5882 10.6195 15.5381 10.4953 15.4371C10.3712 15.3361 10.29 15.1918 10.2682 15.0333L10.2623 14.9474V8.21053C10.2623 8.04302 10.3289 7.88238 10.4473 7.76393C10.5658 7.64549 10.7264 7.57895 10.8939 7.57895ZM8.99918 1.26316C8.51907 1.2631 8.05684 1.4453 7.70591 1.77294C7.35498 2.10058 7.14151 2.54923 7.10865 3.02821L7.10444 3.15789H10.8939L10.8897 3.02821C10.8568 2.54923 10.6434 2.10058 10.2924 1.77294C9.94151 1.4453 9.47928 1.2631 8.99918 1.26316V1.26316Z",className:(0,a.m)("fill-black dark:fill-white hover:fll-red-500 group-hover:fill-red-500 dark:hover:fill-red-500 dark:group-hover:fill-red-500",i)})})}},77591:function(e,t,n){n.d(t,{p:function(){return l}});let{addToast:r,removeToast:a,removeBatch:i}=n(86203).toastsSlice.actions;var s=n(32536),o=n(74578);let l=()=>{let e=(0,s.TL)();return{toast:t=>{let n=(0,o.w)();return e(r({toast:{id:n,...t}})),t.time&&setTimeout(()=>{e(a({id:n}))},t.time),n},removeToast:t=>e(a({id:t})),removeBatch:t=>e(i({batch:t}))}}},77158:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(85893),a=n(71271),i=n(6806),s=n(9529);let o=e=>{let{isOpen:t,close:n,handleRetry:o}=e;return(0,r.jsx)(i.u,{isOpen:t,close:n,children:(0,r.jsxs)("div",{className:"relative bg-white dark:bg-darkSurface-300 rounded-md p-4 lg:p-8 text-black flex flex-col my-auto gap-4",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:"absolute right-4 top-4 cursor-pointer focus:outline focus:outline-2 focus:outline-irBlue-600",onClick:n,children:(0,r.jsx)(a.T,{strokeWidth:4})}),(0,r.jsx)("div",{className:"text-red-500 text-xl font-semibold",children:(0,r.jsx)(s.vN,{keyName:"common:google-drive-access-error-title"})}),(0,r.jsx)("div",{className:"text-black dark:text-white",children:(0,r.jsx)(s.vN,{keyName:"common:google-drive-access-error-description",linkRenderer:(e,t)=>"link:regrant"===t?(0,r.jsx)("button",{className:"cursor-pointer text-irBlue-400 dark:text-darkPrimary-500",onClick:o,children:e},t):(0,r.jsx)("a",{href:"/images/fix-google-permission.png",className:"cursor-pointer text-irBlue-600 dark:text-darkPrimary-500",target:"_blank",children:e},t)})}),(0,r.jsxs)("div",{className:"mt-8 ml-auto flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:n,className:"py-2 px-8 bg-red-500 rounded-xl hover:bg-red-700 text-white capitalize",children:(0,r.jsx)(s.vN,{keyName:"common:cancel"})}),(0,r.jsx)("button",{onClick:o,className:"py-2 px-16 bg-irBlue-200 dark:bg-darkPrimary-500 dark:text-black rounded-xl hover:bg-irBlue-600 text-white capitalize",children:(0,r.jsx)(s.vN,{keyName:"common:retry"})})]})]})})}},51732:function(e,t,n){n.d(t,{h:function(){return a},s:function(){return i}});var r=n(40524);let a=10,i=(e,t,n,i)=>{let s=(e,t)=>!(0===e||t>=a),o=(e,t)=>!(e+t<a);return{handleBatchedSingleFile:async(n,a)=>{i||o(a,t().length)||(await (0,r._)(100),e(n))},proceedNextImports:async()=>{if(i)return;await (0,r._)(1e3);let o=t(),l=n();s(l.length,o.length)&&l.slice(0,a-o.length).forEach(t=>{e(t)})}}}},95094:function(e,t,n){n.d(t,{g:function(){return l}});var r=n(79998),a=n(78721);class i{async startTask(){this.init();let e=new a.M(this.task,{handleDisconnect:this.handleDisconnect,handleReconnect:this.handleReconnect,handleTaskComplete:this.handleComplete,handleTaskFail:this.handleTaskFail,onOfflineLimitReach:this.handleOnOfflineLimitReach});await e.appendTask()}init(){this.options.onStart(this.task,this.metaData)}initPeriodicStatusCheck(){this.periodicStatusCheckInterval=setInterval(async()=>{this.checkStatus()},6e4)}removePeriodicStatusCheck(){this.periodicStatusCheckInterval&&clearInterval(this.periodicStatusCheckInterval),this.periodicStatusCheckInterval=null}async checkStatus(){var e,t;let n=await (0,r.U)("/api/tasks/".concat(this.task.id));n.error||((null===(e=n.result)||void 0===e?void 0:e.status)==="completed"&&this.handleComplete(n.result),(null===(t=n.result)||void 0===t?void 0:t.status)==="failed"&&this.handleTaskFail(n.result))}cancel(){}destroy(){}constructor(e,t,n){this.periodicStatusCheckInterval=null,this.isComplete=!1,this.handleDisconnect=()=>{this.options.onDisconnect&&this.options.onDisconnect(this.task,this.metaData)},this.handleReconnect=()=>{this.options.onReconnect&&this.options.onReconnect(this.task,this.metaData)},this.handleOnOfflineLimitReach=e=>{this.options.onOfflineLimitReach&&this.options.onOfflineLimitReach(e,this.metaData)},this.handleComplete=e=>{this.isComplete||(this.isComplete=!0,this.options.onComplete(e,this.metaData),this.removePeriodicStatusCheck(),this.destroy())},this.handleTaskFail=e=>{this.options.onFailure(e,this.metaData),this.removePeriodicStatusCheck(),this.destroy()},this.task=e,this.options=t,this.metaData=n}}var s=n(67294);let o=[],l=e=>{let t=async(t,n)=>{let r=new i(t,e,n);await r.startTask(),o.push()};return(0,s.useEffect)(()=>()=>{o.forEach(e=>e.destroy())},[]),{handleExternalImport:t}}},29297:function(e,t,n){n.d(t,{T:function(){return l}});var r=n(69391);let a=e=>({file:e,src:URL.createObjectURL(e),size:(0,r.t)(e.size)});var i=n(67294),s=n(68711),o=n(88609);let l=(e,t,n)=>{let[r,l]=(0,i.useState)(!1),d=(0,o.N)(300),c=(0,o.N)(300),u=e=>{e.preventDefault()},h=e=>{l(!0),e.preventDefault()},f=e=>{e.preventDefault()},p=e=>{c(()=>l(!1)),e.preventDefault()},m=e=>{c(()=>l(!0)),e.preventDefault()},v=e=>{e.preventDefault()},g=e=>{if(c(()=>l(!1)),e.preventDefault(),e.dataTransfer&&e.dataTransfer.items&&e.dataTransfer.items[0]){let n=e.dataTransfer.items,r=[];for(let e=0;e<n.length;e++){var t;let i=null===(t=n[e])||void 0===t?void 0:t.getAsFile();i&&r.push(a(i))}k(r)}},{validateFiles:C}=(0,s.d)(n.supportedExtensions),k=e=>{d(()=>t(C(e),"device",{}))},y=()=>{e&&(e.addEventListener("drag",g),e.addEventListener("dragenter",h),e.addEventListener("dragstart",f),e.addEventListener("dragleave",p),e.addEventListener("dragover",m),e.addEventListener("dragend",v),e.addEventListener("drop",g))};return(0,i.useEffect)(()=>(y(),()=>{e&&(e.removeEventListener("drag",u),e.removeEventListener("dragenter",h),e.removeEventListener("dragstart",f),e.removeEventListener("dragleave",p),e.removeEventListener("dragover",m),e.removeEventListener("dragend",v),e.removeEventListener("drop",g))}),[e]),{isDragging:r}}},74578:function(e,t,n){n.d(t,{w:function(){return a}});var r=n(25934);let a=()=>(0,r.Z)()},93012:function(e,t,n){n.d(t,{u:function(){return a}});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return e.length<=t?e:"".concat([...e].splice(0,t).join(""),"...")},a=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;if(e.length<=n)return e;let a=e.split(".")[e.split(".").length-1],i=e.substring(0,e.length-(null==a?void 0:a.length));return"".concat(r(i,n),".").concat(a)}},31016:function(e,t,n){n.d(t,{x:function(){return c}});var r=n(50239),a=n(294),i=n(77591),s=n(67294),o=n(44980),l=n(32536),d=n(77801);let c=()=>{let e=(0,l.TL)(),{toast:t}=(0,i.p)(),n=(0,s.useRef)(0),c="".concat((0,d.V)("you-are-offline")," ").concat((0,d.V)("trying-to-reconnect")),u=async(t,a,i,s,l,d)=>{if(n.current>=r.g){e((0,o.ao)(t.id));return}n.current++;let c=await e(l({imageId:t.id,type:i,options:s})),h=c.payload;"fulfilled"===c.meta.requestStatus?d(t,h.result,a,i):setTimeout(()=>{u(t,a,i,s,l,d)},5e3)};return{handleCreateImportTask:async(n,r,i,s,o,l)=>{let d=await e(o({imageId:n.id,type:i,options:s})),h=d.payload;"rejected"===d.meta.requestStatus?(t({closeable:!0,position:"top-right",status:"error",text:c,time:a.w}),setTimeout(()=>{u(n,r,i,s,o,l)},5e3)):"fulfilled"===d.meta.requestStatus&&l(n,h.result,r,i)}}}},25934:function(e,t,n){n.d(t,{Z:function(){return d}});for(var r,a=new Uint8Array(16),i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=[],o=0;o<256;++o)s.push((o+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!("string"==typeof n&&i.test(n)))throw TypeError("Stringified UUID is invalid");return n},d=function(e,t,n){var i=(e=e||{}).random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=i[s];return t}return l(i)}}}]);
//# sourceMappingURL=4813-cf1e2a36540dcb7d.js.map